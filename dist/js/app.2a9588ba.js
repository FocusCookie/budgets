(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0b65":function(e,t,n){"use strict";n("edc2")},1424:function(e,t,n){},"180b":function(e,t,n){"use strict";n("b571")},"24fb":function(e,t,n){"use strict";n("dc5b")},"3c70":function(e,t,n){"use strict";n("8e8c")},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="4678"},"48bf":function(e,t,n){"use strict";n("8c4d")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=n("2f62"),a=(n("b0c0"),n("96cf"),n("1da1")),i=(n("d3b7"),n("bc3a")),o=n.n(i),c={init:function(e){o.a.defaults.baseURL=e},getBaseUrl:function(){return o.a.defaults.baseURL},checkAuthHeader:function(){un.getters["auth/accessToken"]?o.a.defaults.headers.common["Authorization"]="Bearer ".concat(un.getters["auth/accessToken"]):delete o.a.defaults.headers.common["Authorization"]},get:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.checkAuthHeader(),n.next=4,o.a.get(e);case 4:return r=n.sent,n.abrupt("return",r.data);case 8:if(n.prev=8,n.t0=n["catch"](0),401!==n.t0.response.data.error.status||"jwt expired"!==n.t0.response.data.error.message){n.next=19;break}return n.next=13,un.dispatch("auth/refreshTokens");case 13:if(s=n.sent,!s){n.next=18;break}return n.abrupt("return",t.get(e));case 18:throw{name:"RefreshTokensError",message:"Access Token and Refresh Token expired. Please login again."};case 19:throw n.t0;case 20:case"end":return n.stop()}}),n,null,[[0,8]])})))()},post:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n.checkAuthHeader(),r.next=4,o.a.post(e,t);case 4:return s=r.sent,r.abrupt("return",s.data);case 8:if(r.prev=8,r.t0=r["catch"](0),401!==r.t0.response.data.error.status||"jwt expired"!==r.t0.response.data.error.message){r.next=19;break}return r.next=13,un.dispatch("auth/refreshTokens");case 13:if(a=r.sent,!a){r.next=18;break}return r.abrupt("return",n.post(e,t));case 18:throw{name:"RefreshTokensError",message:"Access Token and Refresh Token expired. Please login again."};case 19:throw r.t0;case 20:case"end":return r.stop()}}),r,null,[[0,8]])})))()},put:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n.checkAuthHeader(),r.next=4,o.a.put(e,t);case 4:return s=r.sent,r.abrupt("return",s.data);case 8:if(r.prev=8,r.t0=r["catch"](0),401!==r.t0.response.data.error.status||"jwt expired"!==r.t0.response.data.error.message){r.next=19;break}return r.next=13,un.dispatch("auth/refreshTokens");case 13:if(a=r.sent,!a){r.next=18;break}return r.abrupt("return",n.put(e,t));case 18:throw{name:"RefreshTokensError",message:"Access Token and Refresh Token expired. Please login again."};case 19:throw r.t0;case 20:case"end":return r.stop()}}),r,null,[[0,8]])})))()},delete:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n.checkAuthHeader(),r.next=4,o.a["delete"](e,{data:t});case 4:return s=r.sent,r.abrupt("return",s.data);case 8:if(r.prev=8,r.t0=r["catch"](0),console.log(r.t0),401!==r.t0.response.data.error.status||"jwt expired"!==r.t0.response.data.error.message){r.next=20;break}return r.next=14,un.dispatch("auth/refreshTokens");case 14:if(a=r.sent,!a){r.next=19;break}return r.abrupt("return",n["delete"](e,t));case 19:throw{name:"RefreshTokensError",message:"Access Token and Refresh Token expired. Please login again."};case 20:throw r.t0;case 21:case"end":return r.stop()}}),r,null,[[0,8]])})))()},customRequest:function(e){return o()(e)}},l={login:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){c.post("auth/login",{password:t,email:e}).then((function(e){n(e)}))["catch"]((function(e){r({name:"LoginError",message:e.response.data.error.message,status:e.response.status})}))})));case 1:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){c["delete"]("auth/logout",{refreshToken:e}).then((function(){t(!0)}))["catch"]((function(e){n(e)}))})));case 1:case"end":return t.stop()}}),t)})))()},refreshAccessToken:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){o.a.post("".concat(c.getBaseUrl(),"auth/refresh-tokens"),{refreshToken:e}).then((function(e){t(e.data)}))["catch"]((function(e){n({name:"RefreshTokensError",message:e.response.data.error.message,status:e.response.status})}))})));case 1:case"end":return t.stop()}}),t)})))()},register:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){c.post("auth/register",{name:e.name,password:e.password,email:e.email}).then((function(e){t(e)}))["catch"]((function(e){n({name:"RegisterError",message:e.response.data.error.message,status:e.response.status})}))})));case 1:case"end":return t.stop()}}),t)})))()}},u="access_token",d="refresh_token",p={getAccessToken:function(){return localStorage.getItem(u)},saveAccessToken:function(e){localStorage.setItem(u,e)},removeAccessToken:function(){localStorage.removeItem(u)},getRefreshToken:function(){return localStorage.getItem(d)},saveRefreshToken:function(e){localStorage.setItem(d,e)},removeRefreshToken:function(){localStorage.removeItem(d)}},g=(n("99af"),"userName"),m="userId",f="userRole",h="userMainVault",v="userFirstTime",x={api:{edit:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.post("vaults/".concat(e),{name:t});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["delete"]("vaults/".concat(e));case 2:return n=t.sent,t.abrupt("return",204===n.statusCode);case 4:case"end":return t.stop()}}),t)})))()},setMainVault:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("users/".concat(un.getters["user/id"],"/mainvault/").concat(e));case 2:return t.next=4,un.dispatch("user/setMainVault",e);case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})))()},resetMainVault:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["delete"]("users/".concat(un.getters["user/id"],"/mainvault"));case 2:return e.next=4,un.dispatch("user/setMainVault","");case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})))()}},local:{saveUser:function(e){var t=""!==e.mainVault&&void 0!==e.mainVault?e.mainVault:"";localStorage.setItem(g,e.name),localStorage.setItem(m,e.aud),localStorage.setItem(f,e.role),localStorage.setItem(h,t)},removeUser:function(){localStorage.removeItem(g),localStorage.removeItem(m),localStorage.removeItem(f),localStorage.removeItem(h),localStorage.removeItem(v)},saveMainVault:function(e){var t=""!==e&&void 0!==e?e:"";localStorage.setItem(h,t)},saveFirstTime:function(e){localStorage.setItem(v,JSON.stringify(e))},getName:function(){return localStorage.getItem(g)},getRole:function(){return localStorage.getItem(f)},getId:function(){return localStorage.getItem(m)},getMainVault:function(){return localStorage.getItem(h)},getFirstTime:function(){return JSON.parse(localStorage.getItem(v))}}},b=(n("45fc"),n("8c4f")),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("This is Analytics")]),n("span",{staticClass:"body"},[e._v("test")]),n("v-btn",{attrs:{color:"primary"}},[e._v(" test ")])],1)},E=[],S={name:"Analytics",components:{}},k=S,y=n("2877"),C=n("6544"),P=n.n(C),j=n("8336"),_=Object(y["a"])(k,w,E,!1,null,"6a5d1266",null),T=_.exports;P()(_,{VBtn:j["a"]});var V=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},R=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("This is History")])])}],$={name:"History",components:{}},M=$,O=Object(y["a"])(M,V,R,!1,null,"0b741834",null),I=O.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.registered?n("div",[n("p",{staticClass:"title"},[e._v(e._s(e.name)+" you have been successfully registered ðŸŽ‰!")]),n("p",[e._v("You can now login with your email and password.")])]):e._e(),n("LoginForm"),n("br"),n("RegisterForm",{on:{registered:e.showLoginMsgAfterRegistration}})],1)},N=[],D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}}},[n("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-mail",required:"",rounded:"",outlined:"",clearable:"","prepend-inner-icon":"mdi-at"},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{"error-messages":e.passwordErrors,label:"Password",required:"",rounded:"",outlined:"",clearable:"",type:"password","prepend-inner-icon":"mdi-lock-question"},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{staticClass:"mb-6",attrs:{rounded:"","x-large":"",color:"primary",loading:e.loadingAuthData},on:{click:e.submit}},[e._v(" Login ")]),n("br"),n("v-container",[e._v(" "+e._s(this.$store.getters["auth/authenticationError"])+" ")])],1)},A=[],L=n("1dce"),F=n.n(L),B=n("b5ae"),U={name:"Login",mixins:[L["validationMixin"]],validations:{email:{required:B["required"],email:B["email"]},password:{required:B["required"]}},data:function(){return{loadingAuthData:!1,password:"",email:"",createFirstVaultMsg:!1}},computed:{passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required."),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e}},created:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$v.$touch(),0!==e.passwordErrors.length||0!==e.emailErrors.length||""===e.email||""===e.password){t.next=35;break}return e.loadingAuthData=!0,t.next=6,e.$store.dispatch("auth/login",{email:e.email.toLowerCase(),password:e.password});case 6:if(n=e.$store.getters["user/mainVault"],n){t.next=24;break}return t.next=10,e.$store.dispatch("vault/setAllVaults");case 10:if(r=t.sent,!(r.length>0)){t.next=18;break}return t.next=14,x.api.setMainVault(r[0]._id);case 14:return t.next=16,e.$store.dispatch("user/setFirstTimeUser",!1);case 16:t.next=22;break;case 18:return t.next=20,x.local.saveMainVault("");case 20:return t.next=22,e.$store.dispatch("user/setFirstTimeUser",!0);case 22:t.next=26;break;case 24:return t.next=26,e.$store.dispatch("user/setFirstTimeUser",!1);case 26:return t.next=28,e.$store.dispatch("vault/setAllVaults");case 28:return t.next=30,e.$store.dispatch("sellingPoints/setAll");case 30:return t.next=32,e.$store.dispatch("categories/setAll");case 32:return t.next=34,e.$store.dispatch("expenses/currentMonth");case 34:e.loadingAuthData=!1;case 35:t.next=41;break;case 37:t.prev=37,t.t0=t["catch"](0),console.log(t.t0),e.loadingAuthData=!1;case 41:case"end":return t.stop()}}),t,null,[[0,37]])})))()},clear:function(){this.$v.$reset(),this.password="",this.email=""}}},z=U,H=n("a523"),J=n("8654"),W=Object(y["a"])(z,D,A,!1,null,null,null),G=W.exports;P()(W,{VBtn:j["a"],VContainer:H["a"],VTextField:J["a"]});var X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}}},[n("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",counter:30,required:"",rounded:"",outlined:"",clearable:"","prepend-inner-icon":"mdi-account-circle"},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"E-mail",required:"",rounded:"",outlined:"",clearable:"","prepend-inner-icon":"mdi-at"},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{counter:30,"error-messages":e.passwordErrors,label:"Password",required:"",rounded:"",outlined:"",clearable:"",type:"password","prepend-inner-icon":"mdi-lock-question"},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{staticClass:"mb-6",attrs:{rounded:"","x-large":"",color:"primary",loading:e.registering},on:{click:e.submit}},[e._v(" Register ")]),n("br"),n("v-container",[e._v(" "+e._s(this.$store.getters["auth/authenticationError"])+" ")])],1)])},Y=[],K={name:"Register",mixins:[L["validationMixin"]],validations:{name:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(30)},email:{required:B["required"],email:B["email"]},password:{required:B["required"],minLength:Object(B["minLength"])(8),maxLength:Object(B["maxLength"])(30)}},data:function(){return{name:"",registering:!1,password:"",email:""}},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be at most 30 characters long"),!this.$v.name.minLength&&e.push("Name must be at least 3 characters long"),!this.$v.name.required&&e.push("Name is required."),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.maxLength&&e.push("Password must be at most 30 characters long"),!this.$v.password.minLength&&e.push("Password must be at least 8 characters long"),!this.$v.password.required&&e.push("Password is required."),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e}},created:function(){},methods:{submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$v.$touch(),0!==e.passwordErrors.length||0!==e.emailErrors.length||0!==e.nameErrors.length||""===e.email||""===e.name||""===e.password){t.next=8;break}return e.registering=!0,t.next=6,e.$store.dispatch("auth/register",{name:e.name,email:e.email.toLowerCase(),password:e.password});case 6:e.registering=!1,e.$emit("registered",e.name);case 8:t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),e.registering=!1;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},clear:function(){this.$v.$reset(),this.password="",this.email="",this.name=""}}},Q=K,Z=Object(y["a"])(Q,X,Y,!1,null,null,null),ee=Z.exports;P()(Z,{VBtn:j["a"],VContainer:H["a"],VTextField:J["a"]});var te={name:"Login",components:{LoginForm:G,RegisterForm:ee},data:function(){return{registered:!1,name:null}},created:function(){},methods:{showLoginMsgAfterRegistration:function(e){this.registered=!0,this.name=e}}},ne=te,re=Object(y["a"])(ne,q,N,!1,null,"b66a9f74",null),se=re.exports;P()(re,{VContainer:H["a"]});var ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-1",attrs:{id:"homeContainer"}},[n("div",{attrs:{id:"expensesContainer"}},[n("div",{class:"monthly"!==e.typeToShow?"slide":"slide toMonthly"},[n("div",{class:"monthly"!==e.typeToShow?"list px-3":"list px-3 fadeOut"},[e.noSpontanExpenses?n("v-card",{key:"noteNoSpontan",staticClass:"pa-4 mt-4 rounded-lg",attrs:{outlined:"",rounded:""}},[e._v(" So far no spontaneous expenses this month! ")]):e._e(),n("transition-group",{attrs:{name:"list",tag:"div"}},[e._v(" > "),e._l(e.spontaneousExpenses,(function(t){return n("Expenses",{key:t._id+"-"+t.dateCreated,staticClass:"list-item",attrs:{expense:t},on:{edit:function(n){return e.startEditingExpense(t)}}})}))],2)],1),n("div",{staticClass:"list px-3"},[n("transition-group",{attrs:{name:"list",tag:"div"}},[e._v(" > "),0===e.monthlyExpenses.length?n("v-card",{key:"noteNoMonthly",staticClass:"pa-4 mt-4 rounded-lg",attrs:{outlined:"",rounded:""}},[e._v(" So far no monthly expenses this month! ")]):e._e(),e._l(e.monthlyExpenses,(function(t){return n("Expenses",{key:t._id+"-"+t.dateCreated,staticClass:"list-item",attrs:{expense:t},on:{edit:function(n){return e.startEditingExpense(t)}}})}))],2)],1)])]),n("div",{attrs:{id:"expensesMenuBarContainer"}},[n("ExpensesMenuBar",{on:{typeChange:e.toggleExpensesTypeToShow,addExpense:e.startCreation}})],1),e.createDialog?n("CreateExpenseDialog",{on:{created:e.expenseSuccessfullyCreated,cancel:e.cancelCreatingExpense}}):e._e()],1)},ie=[],oe=(n("4de4"),n("26e9"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"expensesMenuBarContainer"}},[n("ExpensesTab",{attrs:{options:e.leftExpensesTabOptions,status:e.leftTabStatus},on:{click:e.changeType}}),n("div",{staticClass:"addBtnContainer",on:{click:e.addExpense}},[n("v-icon",{attrs:{color:"primary",large:""}},[e._v(" mdi-bookmark-plus-outline ")])],1),n("ExpensesTab",{attrs:{options:e.rightExpensesTabOptions,status:e.rightTabStatus},on:{click:e.changeType}})],1)}),ce=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"expensesTabContainer"},on:{click:e.clickTab}},[n("span",{staticClass:"text-overline"},[e._v(e._s(e.options.title))]),"left"===e.options.side?n("transition",{attrs:{name:"slide-fade-left"}},[e.status?n("div",{staticClass:"dot"}):e._e()]):e._e(),"right"===e.options.side?n("transition",{attrs:{name:"slide-fade-right"}},[e.status?n("div",{staticClass:"dot"}):e._e()]):e._e()],1)},ue=[],de={name:"ExpensesTab",props:["options","status"],data:function(){return{}},computed:{dotPosition:function(){return this.status?"centered":this.options.side}},created:function(){},methods:{clickTab:function(){this.$emit("click",{side:this.options.side})}}},pe=de,ge=(n("24fb"),Object(y["a"])(pe,le,ue,!1,null,"384b2170",null)),me=ge.exports,fe={name:"ExpensesMenuBar",components:{ExpensesTab:me},data:function(){return{leftExpensesTabOptions:{side:"left",title:"spontaneous"},leftTabStatus:!0,rightExpensesTabOptions:{side:"right",title:"monthly"},rightTabStatus:!1}},computed:{},created:function(){},methods:{changeType:function(e){"left"===e.side?(this.leftTabStatus=!0,this.rightTabStatus=!1):(this.leftTabStatus=!1,this.rightTabStatus=!0),this.$emit("typeChange",this.leftTabStatus?"spontaneous":"monthly")},addExpense:function(){this.$emit("addExpense",!0)}}},he=fe,ve=(n("0b65"),n("132d")),xe=Object(y["a"])(he,oe,ce,!1,null,"44ddb6e9",null),be=xe.exports;P()(xe,{VIcon:ve["a"]});var we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"expenseWrapper"},[n("span",{staticClass:"secondary--text font-weight-bold text--lighten-2 caption"},[e._v(e._s(e.dateCreated)+" ")]),n("div",{class:"pa-3 my-2 mt-1 "+(e.expand?"expanded":"minified"),attrs:{id:"expensesContainer"}},[n("v-card",{staticClass:"sellingPointInitials",attrs:{elevation:"0",color:""+e.sellingPoint.color}},[n("span",{staticClass:"text-uppercase white--text font-weight-black"},[e._v(e._s(e.sellingPoint.initials))])]),n("div",{staticClass:"sellingPointIcon"},[n("v-icon",[e._v(" "+e._s(e.icon)+" ")])],1),e.expand?n("div",{staticClass:"sellingPointCategoryAndName text-left"},[n("span",{staticClass:"sellingPointCategory text-overline pa-0 mb-0  font-weight-bold secondary--text text--lighten-2"},[e._v(e._s(e.sellingPoint.category)+" ")]),n("p",{staticClass:"sellingPointName text-body-4 text-uppercase font-weight-bold pa-0 ma-0"},[e._v(" "+e._s(e.sellingPoint.name)+" ")])]):e._e(),n("div",{class:"expenseSum font-weight-bold  pink--text text--lighten-1 "+(e.expand?"text-center text-h2":"text-right text-h4")},[e._v(" "+e._s(parseFloat(e.expenseToDisplay.sum).toFixed(2))+" â‚¬ ")]),n("div",{staticClass:"moreBtn text-center"},[n("v-btn",{attrs:{outlined:"",dark:"",fab:"","x-small":"",color:"secondary lighten-1"},on:{click:function(t){e.expand=!e.expand}}},[n("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" "+e._s(e.expand?"mdi-close":"mdi-dots-horizontal")+" ")])],1)],1),e.expand?n("div",{staticClass:"editBtn text-center"},[n("v-btn",{attrs:{outlined:"",dark:"",fab:"","x-small":"",color:"secondary lighten-1"},on:{click:function(t){e.showExpenseEditDialog=!e.showExpenseEditDialog}}},[n("v-icon",{attrs:{small:"",color:"primary"}},[e._v(" mdi-pen ")])],1)],1):e._e(),n("EditExpenseDialog",{attrs:{display:e.showExpenseEditDialog,expense:e.expenseToDisplay,"selling-point":e.sellingPoint},on:{saved:e.expenseWasEdited,canceled:e.closeEditExpenseDialog,deleted:e.expenseDeleted}})],1)])},Ee=[],Se=(n("7db0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"content-class":"ma-0 px-3 rounded-0",fluid:"",persistent:"",transition:"dialog-bottom-transition",scrollable:""},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[n("v-card",{staticClass:"text-left rounded-xl"},[n("v-card-title",{staticClass:"headline white--text font-weight-bold text-h6 pa-2 text-uppercase"},[e._v(" EDIT "+e._s(e.sellingPoint.name)+" ")]),n("v-card-text",{staticClass:"py-3 px-0 text-overline"},[n("div",{staticClass:"px-3"},[n("div",{staticClass:"typeContainer pa-1 ",on:{click:function(t){e.spontaneous=!e.spontaneous}}},[n("div",{class:"typeSlider primary text-center white--text text-button "+(e.spontaneous?"":"sliderMoveRight")},[e._v(" "+e._s(e.spontaneous?"spontaneous":"monthly")+" ")])]),n("v-text-field",{staticClass:"py-4",attrs:{small:"",color:"primary",label:"SUM",rounded:"",outlined:"",dense:"","hide-details":"",type:"number","append-icon":"mdi-currency-eur",error:e.enteredSumError,rules:[e.rules.required]},on:{input:e.updateSum},model:{value:e.sum,callback:function(t){e.sum=t},expression:"sum"}}),n("v-select",{attrs:{items:e.sellingPointsToSelect,label:"Selling Point",rounded:"",outlined:"",dense:"","hide-details":"",error:e.selectedSellingPointError,rules:[e.rules.required]},on:{input:e.selectSellingPoint},model:{value:e.selectedSellingPoint,callback:function(t){e.selectedSellingPoint=t},expression:"selectedSellingPoint"}})],1),e.selectedSellingPoint===e.newSellingPointCreationText?n("div",{staticClass:"mt-3 px-4 createSellingPointWrapper primary--text text-center"},[n("span",{staticClass:"text-overline font-weight-bold"},[e._v("NEW SELLING POINT")]),n("v-text-field",{attrs:{small:"",color:"primary",label:"Name",placeholder:"enter a name",rounded:"","hide-details":"",outlined:"",dense:"",maxlength:"50",error:e.enteredSellingPointNameError,rules:[e.rules.required,e.rules.minSellingPointName,e.rules.maxSellingPointName]},on:{input:e.enterSellingPointName},model:{value:e.enteredSellingPointName,callback:function(t){e.enteredSellingPointName=t},expression:"enteredSellingPointName"}}),n("v-text-field",{staticClass:"py-3",attrs:{small:"",color:"primary",label:"Initials",rounded:"","hide-details":"",outlined:"",dense:"",maxlength:"2",error:e.enteredSellingPointInitalsError,rules:[e.rules.required,e.rules.minSellingPointInitials,e.rules.maxSellingPointInitials]},on:{input:e.enterSellingPointInitials},model:{value:e.enteredSellingPointInitials,callback:function(t){e.enteredSellingPointInitials=t},expression:"enteredSellingPointInitials"}}),n("v-card",{staticClass:"pa-0 rounded-lg",attrs:{id:"customBorder",outlined:""}},[n("v-color-picker",{staticClass:"colorPicker",attrs:{"hide-inputs":"",width:"320px"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),n("v-select",{staticClass:"py-3",attrs:{items:e.sellingPointCategories,label:"Category",rounded:"",outlined:"",dense:"","hide-details":"",error:e.selectedSellingPointCategoryError,rules:[e.rules.required]},on:{input:e.selectSellingPointCategory}})],1):e._e()]),n("v-divider"),n("v-card-actions",{staticClass:"pa-4 d-flex justify-space-between"},[n("v-btn",{attrs:{rounded:"",color:"primary",outlined:"",text:""},on:{click:e.cancelEdit}},[e._v(" Cancel ")]),n("v-btn",{attrs:{rounded:"",color:"secondary",text:""},on:{click:function(t){e.deleteDialog=!e.deleteDialog}}},[e._v(" Delete ")]),n("v-btn",{attrs:{color:"primary",rounded:"",dark:"",loading:e.deleting},on:{click:e.save}},[e._v(" Save ")])],1)],1),n("v-dialog",{attrs:{"content-class":"ma-0 px-3 rounded-0",fluid:"",scrollable:""},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[n("v-card",{staticClass:"text-left rounded-xl"},[n("v-card-title",{staticClass:"deleteHeadline white--text font-weight-bold text-h6 pa-2 text-uppercase"},[e._v(" ðŸš¨ Delete "+e._s(e.sellingPoint.name)+" ")]),n("v-card-text",{staticClass:"pa-3 body-1 black--text"},[e._v(" Are you sure that you want to delete the expense for "+e._s(e.sellingPoint.name)+" with "+e._s(e.expense.sum)+"? ")]),n("v-card-actions",{staticClass:"pa-4 d-flex justify-space-between"},[n("v-btn",{attrs:{color:"error",rounded:"",dark:"",loading:e.deleting},on:{click:e.deleteExpense}},[e._v(" Delete ")]),n("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(t){e.deleteDialog=!e.deleteDialog}}},[e._v(" Cancel ")])],1)],1)],1)],1)}),ke=[],ye=(n("d81d"),n("13d5"),n("a9e3"),n("b680"),n("b64b"),n("5530")),Ce={name:"EditExpenseDialog",props:["expense","sellingPoint","display"],data:function(){return{newSellingPointCreationText:"create new selling point",spontaneous:!0,enteredSellingPointInitials:"",enteredSellingPointName:"",selectedSellingPointCategory:"",sellingPointColor:"primary",selectedSellingPoint:"",enteredSumError:!1,selectedSellingPointError:!1,selectedSellingPointCategoryError:!1,enteredSellingPointNameError:!1,enteredSellingPointInitalsError:!1,sum:0,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=1||"Min 1 character."},minSellingPointInitials:function(e){return e.length>=1||"Min 1 character."},minSellingPointName:function(e){return e.length>=2||"Min 2 character."},maxSellingPointInitials:function(e){return e.length<=2||"Max 2 characters."},maxSellingPointName:function(e){return e.length<=50||"Max 50 characters."}},type:"hex",hex:"#673AB7",expenseBeforeEdit:null,deleting:!1,deleteDialog:!1,saving:!1}},computed:{color:{get:function(){return this.type},set:function(e){this.type=e}},showColor:function(){var e=this;return"string"===typeof this.color?this.color:JSON.stringify(Object.keys(this.color).reduce((function(t,n){return t[n]=Number(e.color[n].toFixed(2)),t}),{}),null,2)},sellingPointsToSelect:function(){var e=this.$store.getters["sellingPoints/all"];if(e.length>0){var t=e.map((function(e){return e.name}));return t.push(this.newSellingPointCreationText),t}return this.newSellingPointCreationText},sellingPointCategories:function(){var e=this.$store.getters["categories/all"],t=[];for(var n in e)t.push(e[n].title);return t},categories:function(){return this.$store.getters["categories/all"]}},created:function(){this.expenseBeforeEdit=Object(ye["a"])({},this.expense),this.sum=this.expense.sum,this.selectedSellingPoint=this.sellingPoint.name,this.type=this.expense.type,this.spontaneous="spontaneous"===this.expense.type},methods:{updateSum:function(e){this.enteredSumError=!1,this.sum=e},enterSellingPointName:function(e){this.enteredSellingPointNameError=!1,this.enteredSellingPointName=e},enterSellingPointInitials:function(e){this.enteredSellingPointInitalsError=!1,this.enteredSellingPointInitials=e},selectSellingPointCategory:function(e){this.selectedSellingPointCategoryError=!1,this.selectedSellingPointCategory=e},selectSellingPoint:function(e){this.selectedSellingPointError=!1,this.selectedSellingPoint=e},selectSellingPointCategorie:function(e){this.selectedSellingPointCategoryError=!1,this.selectedSellingPointCategory=e},save:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.saving=!0,n=!1,r=!1,s=!1,0===e.sum&&(e.enteredSumError=!0,r=!0),""===e.selectedSellingPoint&&(e.selectedSellingPointError=!0,r=!0),e.selectedSellingPoint===e.newSellingPointCreationText&&(""===e.selectedSellingPointCategory&&(e.sellingPointCategoryError=!0,s=!0),""===e.enteredSellingPointName&&(e.enteredSellingPointNameError=!0,s=!0),""===e.enteredSellingPointInitials&&(e.enteredSellingPointInitalsError=!0,s=!0),""===e.selectedSellingPointCategory&&(e.selectedSellingPointCategoryError=!0,s=!0)),s||e.selectedSellingPoint!==e.newSellingPointCreationText){t.next=12;break}return t.next=11,e.$store.dispatch("sellingPoints/add",{name:e.enteredSellingPointName,initials:e.enteredSellingPointInitials,category:e.categories.find((function(t){return t.title===e.selectedSellingPointCategory})).title,color:e.type});case 11:n=t.sent;case 12:if(a={sum:e.sum,type:e.spontaneous?"spontaneous":"monthly",sellingPoint:n?n._id:e.$store.getters["sellingPoints/all"].find((function(t){return t.name===e.selectedSellingPoint}))._id,_id:e.expenseBeforeEdit._id},r||s){t.next=22;break}if(e.expenseBeforeEdit.sum===a.sum&&e.expenseBeforeEdit.type===a.type&&e.expenseBeforeEdit.sellingPoint===a.sellingPoint){t.next=21;break}return t.next=17,e.$store.dispatch("expenses/edit",a);case 17:i=t.sent,e.$emit("saved",i),t.next=22;break;case 21:e.$emit("saved",!1);case 22:e.saving=!1,t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](0),e.saving=!1,console.log(t.t0);case 29:case"end":return t.stop()}}),t,null,[[0,25]])})))()},cancelEdit:function(){this.$emit("canceled",!0)},deleteExpense:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.deleting=!0,t.next=4,e.$store.dispatch("expenses/delete",e.expense._id);case 4:n=t.sent,e.$emit("deleted",n),e.deleting=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},Pe=Ce,je=(n("cff4"),n("b0af")),_e=n("99d9"),Te=n("03a4"),Ve=n("169a"),Re=n("ce7e"),$e=n("b974"),Me=Object(y["a"])(Pe,Se,ke,!1,null,"5c8b0ae1",null),Oe=Me.exports;P()(Me,{VBtn:j["a"],VCard:je["a"],VCardActions:_e["a"],VCardText:_e["b"],VCardTitle:_e["c"],VColorPicker:Te["a"],VDialog:Ve["a"],VDivider:Re["a"],VSelect:$e["a"],VTextField:J["a"]});var Ie=n("c1df"),qe=n.n(Ie),Ne={name:"Expenses",components:{EditExpenseDialog:Oe},props:["expense"],data:function(){return{showExpenseEditDialog:!1,expenseToDisplay:{},expand:!1}},computed:{sellingPoint:function(){var e=this,t=this.$store.getters["sellingPoints/all"],n=t.find((function(t){return t._id===e.expenseToDisplay.sellingPoint}));return n||{name:"",category:"",color:"",initials:"",owner:"",icon:"",_id:""}},dateCreated:function(){return qe()(this.expenseToDisplay.dateCreated).format("DD. MMM - hh:mm")},categories:function(){return this.$store.getters["categories/all"]},icon:function(){var e=this;return""!==this.sellingPoint.category?this.categories.find((function(t){return t.title===e.sellingPoint.category})).icon:"mdi-alert"}},created:function(){this.expenseToDisplay=this.expense},methods:{closeEditExpenseDialog:function(){this.showExpenseEditDialog=!1},expenseDeleted:function(){this.showExpenseEditDialog=!1},expenseWasEdited:function(e){this.expenseToDisplay=e||this.expenseToDisplay,this.showExpenseEditDialog=!1}}},De=Ne,Ae=(n("c563"),Object(y["a"])(De,we,Ee,!1,null,"671917a2",null)),Le=Ae.exports;P()(Ae,{VBtn:j["a"],VCard:je["a"],VIcon:ve["a"]});var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"content-class":"ma-0 px-3 rounded-0",fluid:"",persistent:"",transition:"dialog-bottom-transition",scrollable:""},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"text-left rounded-xl"},[n("v-card-title",{staticClass:"headline white--text font-weight-bold text-h6 pa-2 text-uppercase"},[e._v(" Create a new Expense ")]),n("v-card-text",{staticClass:"py-3 px-0 text-overline"},[n("div",{staticClass:"px-3"},[n("div",{staticClass:"typeContainer pa-1 ",on:{click:function(t){e.spontaneous=!e.spontaneous}}},[n("div",{class:"typeSlider primary text-center white--text text-button "+(e.spontaneous?"":"sliderMoveRight")},[e._v(" "+e._s(e.spontaneous?"spontaneous":"monthly")+" ")])]),e.spontaneous?e._e():n("div",{staticClass:"d-flex justify-space-between align-center mt-3"},[n("span",{staticClass:"pl-4"},[e._v("Recurring")]),n("v-switch",{staticClass:"ma-0",attrs:{"hide-details":"",inset:""},model:{value:e.recurring,callback:function(t){e.recurring=t},expression:"recurring"}})],1),e.recurring?n("v-row",{staticClass:"pa-3 mt-1",attrs:{justify:"center"}},[n("v-dialog",{ref:"dialog",attrs:{"return-value":e.recurringLastMonth,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.recurringLastMonth=t},"update:return-value":function(t){e.recurringLastMonth=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{error:e.recurringLastMonthError,rules:e.recurring?[e.rules.required]:[],dense:"","hide-details":"",outlined:"",rounded:"",label:"last Month of recurring the expense","append-icon":"mdi-calendar",readonly:""},model:{value:e.recurringLastMonth,callback:function(t){e.recurringLastMonth=t},expression:"recurringLastMonth"}},"v-text-field",s,!1),r))]}}],null,!1,4231941001),model:{value:e.recurringLastMonthmodal,callback:function(t){e.recurringLastMonthmodal=t},expression:"recurringLastMonthmodal"}},[n("v-date-picker",{attrs:{color:"primary",type:"month",min:e.nextMonth,scrollable:""},model:{value:e.recurringLastMonth,callback:function(t){e.recurringLastMonth=t},expression:"recurringLastMonth"}},[n("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.recurringLastMonthmodal=!1}}},[e._v(" Cancel ")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(t){return e.$refs.dialog.save(e.recurringLastMonth)}}},[e._v(" OK ")])],1)],1)],1):e._e(),n("v-text-field",{staticClass:"py-4",attrs:{small:"",color:"primary",label:"SUM",placeholder:"0.00",rounded:"",outlined:"",dense:"","hide-details":"",type:"number","append-icon":"mdi-currency-eur",error:e.enteredSumError,rules:[e.rules.required]},on:{input:e.updateSum}}),n("v-select",{attrs:{items:e.sellingPointsToSelect,label:"Selling Point",rounded:"",outlined:"",dense:"","hide-details":"",error:e.selectedSellingPointError,rules:[e.rules.required]},on:{input:e.selectSellingPoint}})],1),e.selectedSellingPoint===e.newSellingPointCreationText?n("div",{staticClass:"mt-3 px-4 createSellingPointWrapper primary--text text-center"},[n("span",{staticClass:"text-overline font-weight-bold"},[e._v("NEW SELLING POINT")]),n("v-text-field",{attrs:{small:"",color:"primary",label:"Name",placeholder:"enter a name",rounded:"","hide-details":"",outlined:"",dense:"",maxlength:"50",error:e.enteredSellingPointNameError,rules:[e.rules.required,e.rules.minSellingPointName,e.rules.maxSellingPointName]},on:{input:e.enterSellingPointName},model:{value:e.enteredSellingPointName,callback:function(t){e.enteredSellingPointName=t},expression:"enteredSellingPointName"}}),n("v-text-field",{staticClass:"py-3",attrs:{small:"",color:"primary",label:"Initials",rounded:"","hide-details":"",outlined:"",dense:"",maxlength:"2",error:e.enteredSellingPointInitalsError,rules:[e.rules.required,e.rules.minSellingPointInitials,e.rules.maxSellingPointInitials]},on:{input:e.enterSellingPointInitials},model:{value:e.enteredSellingPointInitials,callback:function(t){e.enteredSellingPointInitials=t},expression:"enteredSellingPointInitials"}}),n("v-card",{staticClass:"pa-0 rounded-lg",attrs:{id:"customBorder",outlined:""}},[n("v-color-picker",{staticClass:"colorPicker",attrs:{"hide-inputs":"",width:"320px"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),n("v-select",{staticClass:"py-3",attrs:{items:e.sellingPointCategories,label:"Category",rounded:"",outlined:"",dense:"","hide-details":"",error:e.selectedSellingPointCategoryError,rules:[e.rules.required]},on:{input:e.selectSellingPointCategory}})],1):e._e()]),n("v-divider"),n("v-card-actions",{staticClass:"pa-4"},[n("v-btn",{attrs:{rounded:"",color:"primary",outlined:""},on:{click:e.cancelCreation}},[e._v(" Cancel ")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",rounded:"",dark:""},on:{click:e.createExpense}},[e._v(" Create expense ")])],1)],1)],1)},Be=[],Ue=(n("0d03"),{name:"CreateExpenseDialog",data:function(){return{newSellingPointCreationText:"create new selling point",open:!0,spontaneous:!0,enteredSellingPointInitials:"",enteredSellingPointName:"",selectedSellingPointCategory:"",sellingPointColor:"primary",selectedSellingPoint:"",enteredSumError:!1,selectedSellingPointError:!1,selectedSellingPointCategoryError:!1,enteredSellingPointNameError:!1,enteredSellingPointInitalsError:!1,recurringLastMonthError:!1,sum:0,recurring:!1,recurringLastMonth:"",recurringLastMonthmodal:!1,rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=1||"Min 1 character."},minSellingPointInitials:function(e){return e.length>=1||"Min 1 character."},maxSellingPointInitials:function(e){return e.length<=2||"Max 2 characters."},minSellingPointName:function(e){return e.length>=2||"Min 2 character."},maxSellingPointName:function(e){return e.length<=50||"Max 50 characters."}},type:"hex",hex:"#673AB7"}},computed:{color:{get:function(){return this[this.type]},set:function(e){this[this.type]=e}},showColor:function(){var e=this;return"string"===typeof this.color?this.color:JSON.stringify(Object.keys(this.color).reduce((function(t,n){return t[n]=Number(e.color[n].toFixed(2)),t}),{}),null,2)},sellingPointsToSelect:function(){var e=this.$store.getters["sellingPoints/all"];if(e.length>0){var t=e.map((function(e){return e.name}));return t.push(this.newSellingPointCreationText),t}return[this.newSellingPointCreationText]},sellingPointCategories:function(){var e=this.$store.getters["categories/all"],t=[];for(var n in e)t.push(e[n].title);return t},categories:function(){return this.$store.getters["categories/all"]},nextMonth:function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1)}},watch:{recurringLastMonth:function(e){""!==e&&(this.recurringLastMonthError=!1)}},created:function(){},methods:{updateSum:function(e){this.enteredSumError=!1,this.sum=e},enterSellingPointName:function(e){this.enteredSellingPointNameError=!1,this.enteredSellingPointName=e},enterSellingPointInitials:function(e){this.enteredSellingPointInitalsError=!1,this.enteredSellingPointInitials=e},selectSellingPointCategory:function(e){this.selectedSellingPointCategoryError=!1,this.selectedSellingPointCategory=e},selectSellingPoint:function(e){this.selectedSellingPointError=!1,this.selectedSellingPoint=e},selectSellingPointCategorie:function(e){this.selectedSellingPointCategoryError=!1,this.selectedSellingPointCategory=e},createExpense:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=!1,r=!1,s=!1,0===e.sum&&(e.enteredSumError=!0,r=!0),""===e.selectedSellingPoint&&(e.selectedSellingPointError=!0,r=!0),e.selectedSellingPoint===e.newSellingPointCreationText&&(""===e.selectedSellingPointCategory&&(e.sellingPointCategoryError=!0,s=!0),""===e.enteredSellingPointName&&(e.enteredSellingPointNameError=!0,s=!0),""===e.enteredSellingPointInitials&&(e.enteredSellingPointInitalsError=!0,s=!0),""===e.selectedSellingPointCategory&&(e.selectedSellingPointCategoryError=!0,s=!0)),""===e.recurringLastMonth&&e.recurring&&(e.recurringLastMonthError=!0),s||e.selectedSellingPoint!==e.newSellingPointCreationText){t.next=12;break}return t.next=11,e.$store.dispatch("sellingPoints/add",{name:e.enteredSellingPointName,initials:e.enteredSellingPointInitials,category:e.categories.find((function(t){return t.title===e.selectedSellingPointCategory})).title,color:e.hex});case 11:n=t.sent;case 12:r||s||(a={sum:e.sum,type:e.spontaneous?"spontaneous":"monthly",sellingPoint:n?n._id:e.$store.getters["sellingPoints/all"].find((function(t){return t.name===e.selectedSellingPoint}))._id,vault:e.$store.getters["vault/id"]},e.recurring&&(a.recurring=e.recurring,a.recurringLastMonth=e.recurringLastMonth),e.$store.dispatch("expenses/create",a),e.$emit("created",!0)),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancelCreation:function(){this.$emit("cancel",!1)}}}),ze=Ue,He=(n("6f70"),n("2e4b")),Je=n("0fd9"),We=n("2fa4"),Ge=n("b73d"),Xe=Object(y["a"])(ze,Fe,Be,!1,null,"3d1cc516",null),Ye=Xe.exports;P()(Xe,{VBtn:j["a"],VCard:je["a"],VCardActions:_e["a"],VCardText:_e["b"],VCardTitle:_e["c"],VColorPicker:Te["a"],VDatePicker:He["a"],VDialog:Ve["a"],VDivider:Re["a"],VRow:Je["a"],VSelect:$e["a"],VSpacer:We["a"],VSwitch:Ge["a"],VTextField:J["a"]});var Ke={name:"Home",components:{ExpensesMenuBar:be,Expenses:Le,CreateExpenseDialog:Ye},data:function(){return{createDialog:!1,editDialog:!1,typeToShow:"spontaneous",toggleNew:!0,selectedExpenseToEdit:null}},computed:{expenses:function(){return this.$store.getters["expenses/currentMonth"]},monthlyExpenses:function(){var e=this.expenses.filter((function(e){return"monthly"===e.type}));return e.length>0?e.reverse():[]},spontaneousExpenses:function(){var e=this.expenses.filter((function(e){return"spontaneous"===e.type}));return e.length>0?e.reverse():[]},mainVault:function(){return this.$store.getters["user/mainVault"]},noSpontanExpenses:function(){return 0===this.spontaneousExpenses.length||!this.spontaneousExpenses}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("expenses/currentMonth");case 2:case"end":return t.stop()}}),t)})))()},methods:{expenseSuccessfullyCreated:function(){this.createDialog=!1},toggleExpensesTypeToShow:function(e){this.typeToShow!==e&&(this.typeToShow=e)},startCreation:function(){this.createDialog=!0},createdExpense:function(){this.createDialog=!1},cancelCreatingExpense:function(){this.createDialog=!1},editedExpense:function(){this.editDialog=!1},cancelEditingExpense:function(){this.editDialog=!1},startEditingExpense:function(e){this.editDialog=!0,this.selectedExpenseToEdit=e}}},Qe=Ke,Ze=(n("9de4"),Object(y["a"])(Qe,ae,ie,!1,null,"97e3acaa",null)),et=Ze.exports;P()(Ze,{VCard:je["a"]});var tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-3"},[n("h1",[e._v("This is Settings")]),n("br"),n("v-container",[n("p",[n("span",{staticClass:"title"},[e._v("Name ")]),e._v(e._s(e.userName))]),n("p",[n("span",{staticClass:"title"},[e._v("Role ")]),e._v(e._s(e.userRole))]),n("p",[n("span",{staticClass:"title"},[e._v("Main Vault ")]),e._v(e._s(e.userMainVault))]),n("p",[n("span",{staticClass:"title"},[e._v("User ID ")]),e._v(e._s(e.userId))]),n("br"),n("Logout")],1)],1)},nt=[],rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{rounded:"","x-large":"",color:"error",outlined:""},on:{click:e.logout}},[e._v(" Logout ")])},st=[],at={name:"Logout",data:function(){return{}},methods:{logout:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("auth/logout");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}},it=at,ot=Object(y["a"])(it,rt,st,!1,null,null,null),ct=ot.exports;P()(ot,{VBtn:j["a"]});var lt={name:"Settings",components:{Logout:ct},data:function(){return{vaultName:"",checkedUserID:""}},computed:{userName:function(){return this.$store.getters["user/name"]},userRole:function(){return this.$store.getters["user/role"]},userMainVault:function(){return this.$store.getters["user/mainVault"]},userId:function(){return this.$store.getters["user/id"]}},methods:{}},ut=lt,dt=Object(y["a"])(ut,tt,nt,!1,null,"eda1471e",null),pt=dt.exports;P()(dt,{VContainer:H["a"]}),r["a"].use(b["a"]);var gt=[{path:"/login",name:"Login",component:se,meta:{public:!0,onlyWhenLoggedOut:!0}},{path:"/",name:"Home",component:et},{path:"/analytics",name:"Analytics",component:T},{path:"/history",name:"History",component:I},{path:"/home",name:"Home",component:et},{path:"/settings",name:"Settings",component:pt},{path:"*",component:et}],mt=new b["a"]({mode:"history",routes:gt});mt.beforeEach((function(e,t,n){var r=e.matched.some((function(e){return e.meta["public"]})),s=e.matched.some((function(e){return e.meta.onlyWhenLoggedOut})),a=un.getters["auth/loggedIn"];return r||a?a&&s?n("/"):void n():n({path:"/login",query:{redirect:e.fullPath}})}));var ft=mt,ht="vaultName",vt="vaultOwner",xt="vaultSellingPoints",bt="vaultShared",wt="vaultId",Et="vaults",St={api:{getAll:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("vaults");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},get:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw{name:"GET vault/id",message:"No ID given"};case 2:return t.next=4,c.get("vaults/".concat(e));case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},create:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("vaults",{name:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},edit:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",c.put("vaults/".concat(e),{name:t}));case 1:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["delete"]("vaults/".concat(e));case 2:return n=t.sent,t.abrupt("return",204===n.statusCode);case 4:case"end":return t.stop()}}),t)})))()},getVaultsSharedUsers:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw{name:"GET vault/id",message:"No ID given"};case 2:return t.next=4,c.get("vaults/".concat(e,"/share/"));case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},giveAccessToVault:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.post("vaults/".concat(e,"/share/"),{email:t});case 2:return r=n.sent,n.abrupt("return",204===r.statusCode);case 4:case"end":return n.stop()}}),n)})))()},revokeAccessFromVault:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.post("vaults/".concat(e,"/share/"),{email:t});case 2:return r=n.sent,n.abrupt("return",204===r.statusCode);case 4:case"end":return n.stop()}}),n)})))()}},local:{setAllVaults:function(e){localStorage.setItem(Et,JSON.stringify(e))},setVault:function(e){localStorage.setItem(ht,e.name),localStorage.setItem(vt,JSON.stringify(e.owner)),localStorage.setItem(xt,JSON.stringify(e.sellingPoints)),localStorage.setItem(bt,JSON.stringify(e.shared)),localStorage.setItem(wt,e._id)},getVault:function(){return{name:localStorage.getItem(ht),owner:JSON.parse(localStorage.getItem(vt)),sellingPoints:JSON.parse(localStorage.getItem(xt)),shared:JSON.parse(localStorage.getItem(bt)),_id:localStorage.getItem(wt)}},getAllVaults:function(){return JSON.parse(localStorage.getItem(Et))},getName:function(){return localStorage.getItem(ht)},getOwner:function(){return JSON.parse(localStorage.getItem(vt))},getSellingPoints:function(){return JSON.parse(localStorage.getItem(xt))},getShared:function(){return JSON.parse(localStorage.getItem(xt))},getId:function(){return localStorage.getItem(wt)},removeVault:function(){localStorage.removeItem(ht),localStorage.removeItem(vt),localStorage.removeItem(xt),localStorage.removeItem(bt),localStorage.removeItem(wt)},removeVaults:function(){localStorage.removeItem(Et)},setName:function(e){localStorage.setItem(ht,e)},setSellingPoints:function(e){localStorage.setItem(xt,JSON.stringify(e))},setShared:function(e){localStorage.setItem(xt,JSON.stringify(e))}}},kt="categories",yt={api:{getAll:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.get("categories");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}},local:{setAll:function(e){localStorage.setItem(kt,JSON.stringify(e))},getAll:function(){return JSON.parse(localStorage.getItem(kt))},removeAll:function(){return localStorage.removeItem(kt)}}},Ct="sellingPoints",Pt={api:{getAll:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c.get("sellingPoints"));case 1:case"end":return e.stop()}}),e)})))()},get:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw{name:"GET sellingPoints/id",message:"No ID given"};case 2:return t.next=4,c.get("sellingPoints/".concat(e));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()},create:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.post("sellingPoints",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},edit:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",c.put("sellingPoints/".concat(e),t));case 1:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["delete"]("sellingPoints/".concat(e));case 2:return n=t.sent,t.abrupt("return",204===n.statusCode);case 4:case"end":return t.stop()}}),t)})))()}},local:{setAll:function(e){localStorage.setItem(Ct,JSON.stringify(e))},getAll:function(){return JSON.parse(localStorage.getItem(Ct))},removeAll:function(){localStorage.removeItem(Ct)}}},jt="expensesCurrentMonth",_t="expensesFromTo",Tt={api:{getCurrentMonth:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=un.getters["vault/id"],e.abrupt("return",t?c.get("expenses/vault/".concat(t)):[]);case 2:case"end":return e.stop()}}),e)})))()},getFromTo:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=un.getters["vault/id"],s=t?"expenses/vault/".concat(r,"/timeframe/?from=").concat(e,"&to=").concat(t):"expenses/vault/".concat(r,"/timeframe/?from=").concat(e),n.abrupt("return",c.get(s));case 3:case"end":return n.stop()}}),n)})))()},create:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",c.post("expenses",e));case 1:case"end":return t.stop()}}),t)})))()},edit:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",c.put("expenses/".concat(e),t));case 1:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["delete"]("expenses/".concat(e));case 2:return n=t.sent,t.abrupt("return",204===n.statusCode);case 4:case"end":return t.stop()}}),t)})))()}},local:{setExpensesCurrentMonth:function(e){localStorage.setItem(jt,JSON.stringify(e))},getExpensesCurrentMonth:function(){return JSON.parse(localStorage.getItem(jt))},removeExpensesCurrentMonth:function(){localStorage.removeItem(jt)},setExpensesFromTo:function(e){localStorage.setItem(_t,JSON.stringify(e))},getExpensesFromTo:function(){return JSON.parse(localStorage.getItem(_t))},removeExpensesFromTo:function(){localStorage.removeItem(_t)}}};function Vt(){p.removeRefreshToken(),x.local.removeUser(),St.local.removeVault(),St.local.removeVaults(),yt.local.removeAll(),Pt.local.removeAll(),Tt.local.removeExpensesCurrentMonth(),Tt.local.removeExpensesFromTo()}var Rt={authenticating:!1,accessToken:p.getAccessToken(),refreshToken:p.getRefreshToken(),authenticationErrorCode:0,authenticationError:""},$t={loggedIn:function(e){return!!e.accessToken},authenticationErrorCode:function(e){return e.authenticationErrorCode},authenticationError:function(e){return e.authenticationError},authenticating:function(e){return e.authenticating},accessToken:function(e){return e.accessToken},refreshToken:function(e){return e.refreshToken},userIsNew:function(e){return e.newlyRegisteredUser},user:function(e){return e.user}},Mt={loginRequest:function(e){e.authenticating=!0,e.authenticationError="",e.authenticationErrorCode=0},loginSuccess:function(e,t){e.accessToken=t.accessToken,e.refreshToken=t.refreshToken,e.authenticating=!1},loginError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.authenticating=!1,e.authenticationErrorCode=n,e.authenticationError=r},logoutSuccess:function(e){e.loggingOut=!1,e.accessToken="",e.refreshToken=""},refreshTokensRequest:function(e){e.authenticating=!0,e.authenticationError="",e.authenticationErrorCode=0},refreshTokensError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.authenticating=!1,e.authenticationError=r,e.authenticationErrorCode=n,e.accessToken="",e.refreshToken=""},refreshTokensSuccess:function(e,t){e.authenticating=!1,e.accessToken=t.accessToken,e.refreshToken=t.refreshToken},registerRequest:function(e){e.authenticating=!0,e.authenticationError="",e.authenticationErrorCode=0},registerSuccess:function(e){e.authenticating=!1},registerError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.authenticating=!1,e.authenticationErrorCode=n,e.authenticationError=r}},Ot={login:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("loginRequest"),e.next=4,l.login(n.email,n.password);case 4:return r=e.sent,t.commit("loginSuccess",r),e.next=8,un.dispatch("user/init",{accessToken:r.accessToken});case 8:return p.saveAccessToken(r.accessToken),p.saveRefreshToken(r.refreshToken),ft.push(ft.history.current.query.redirect||"/"),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e["catch"](0),"LoginError"===e.t0.name&&t.commit("loginError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));function t(t,n){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,p.removeAccessToken(),e.next=4,l.logout(Rt.refreshToken);case 4:Vt(),t.commit("logoutSuccess"),ft.push("/login"),e.next=15;break;case 9:e.prev=9,e.t0=e["catch"](0),Vt(),t.commit("logoutSuccess"),ft.push("/login"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}(),refreshTokens:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.commit("refreshTokensRequest"),!Rt.refreshToken){e.next=10;break}return e.next=5,l.refreshAccessToken(Rt.refreshToken);case 5:return n=e.sent,t.commit("refreshTokensSuccess",n),p.saveAccessToken(n.accessToken),p.saveRefreshToken(n.refreshToken),e.abrupt("return",!0);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),"RefreshTokensError"===e.t0.name&&(p.removeAccessToken(),p.removeRefreshToken(),t.commit("refreshTokensError",{errorCode:e.t0.status,errorMessage:e.t0.message})),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));function t(t){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("registerRequest"),e.next=4,l.register(n);case 4:return r=e.sent,t.commit("registerSuccess",r),e.next=8,un.dispatch("user/init",{accessToken:r.accessToken});case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e["catch"](0),"RegisterError"===e.t0.name&&t.commit("registerError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t,n){return e.apply(this,arguments)}return t}()},It={namespaced:!0,state:Rt,getters:$t,actions:Ot,mutations:Mt},qt=n("1232"),Nt={id:x.local.getId(),name:x.local.getName(),role:x.local.getRole(),mainVault:x.local.getMainVault(),firstTimeLoggedIn:x.local.getFirstTime()},Dt={name:function(){return Nt.name},id:function(){return Nt.id},role:function(){return Nt.role},mainVault:function(){return Nt.mainVault},firstTimeUser:function(){return Nt.firstTimeLoggedIn}},At={initUser:function(e,t){e.name=t.name,e.role=t.role,e.mainVault=t.mainVault,e.id=t.id},name:function(e,t){e.name=t},mainVault:function(e,t){e.mainVault=t},firstTimeUser:function(e,t){e.firstTimeLoggedIn=t}},Lt={init:function(e,t){try{var n=Object(qt["a"])(t.accessToken);return e.commit("initUser",{id:n.aud,name:n.name,role:n.role,mainVault:n.mainVault,email:n.email}),x.local.saveUser(n),!0}catch(r){throw{name:"InitUser",message:r.name,status:r.message}}},setName:function(e,t){e.commit("name",t)},setMainVault:function(e,t){x.local.saveMainVault(t),e.commit("mainVault",t)},setFirstTimeUser:function(e,t){x.local.saveFirstTime(t),e.commit("firstTimeUser",t)}},Ft={namespaced:!0,state:Nt,getters:Dt,actions:Lt,mutations:At},Bt={name:St.local.getName(),owner:St.local.getOwner(),sellingPoints:St.local.getSellingPoints(),shared:St.local.getSellingPoints(),_id:St.local.getId(),requestingVault:!1,requestingAllVaults:!1,vaults:St.local.getAllVaults()},Ut={name:function(e){return e.name},id:function(e){return e._id},owner:function(e){return e.owner},sellingPoints:function(e){return e.sellingPoints},shared:function(e){return e.shared},allVaults:function(e){return e.vaults}},zt={vaultRequest:function(e){e.requestingVault=!0,e.vaultError="",e.vaultErrorCode=0},vaultSuccess:function(e,t){e.name=t.name,e.owner=t.owner,e.shared=t.shared,e.sellingPoints=t.sellingPoints,e._id=t._id,e.requestingVault=!1},vaultError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.requestingVault=!1,e.vaultError=n,e.vaultErrorCode=r},allVaultsRequest:function(e){e.requestingAllVaults=!0,e.vaultError="",e.vaultErrorCode=0},allVaultsSuccess:function(e,t){e.vaults=t,e.requestingVault=!1},allVaultsError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.requestingVault=!1,e.vaultError=n,e.vaultErrorCode=r},setName:function(e,t){e.name=t},setShared:function(e,t){e.shared=t},setSellingPoints:function(e,t){e.sellingPoints=t},reset:function(e){e.name="",e.owner="",e.sellingPoints="",e.shared="",e._id="",e.vaults=[]}},Ht={set:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("vaultRequest"),St.local.removeVault(),e.next=5,c.get("vaults/".concat(n));case 5:return r=e.sent,St.local.setVault(r),t.commit("vaultSuccess",r),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e["catch"](0),"VaultError"===e.t0.name&&t.commit("vaultError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),setAllVaults:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St.api.getAll();case 3:return n=e.sent,St.local.setAllVaults(n),t.commit("allVaultsSuccess",n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e["catch"](0),"AllVaultsError"===e.t0.name&&t.commit("allVaultsError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}(),reset:function(e){St.local.removeVault(),St.local.removeVaults(),e.commit("reset")}},Jt={namespaced:!0,state:Bt,getters:Ut,actions:Ht,mutations:zt},Wt=(n("277d"),n("2909")),Gt={expensesCurrentMonth:Tt.local.getExpensesCurrentMonth(),expensesFromTo:Tt.local.getExpensesFromTo(),editingExpenseRequest:!1,requestingExpensesCurrentMonth:!1,requestingExpensesFromTo:!1,creatingExpenseRequest:!1,deletingExpenseRequest:!1,expensesError:"",expensesErrorStatus:0},Xt={currentMonth:function(e){return e.expensesCurrentMonth},fromTo:function(e){return e.expensesFromTo},expenseById:function(e){return function(t){return e.expensesCurrentMonth.find((function(e){return e._id===t}))}}},Yt={editingExpenseRequest:function(e){e.editingExpenseRequest=!0,e.expensesError="",e.expensesErrorStatus=0},editingExpenseSuccess:function(e,t){e.editingExpenseRequest=!1,e.expensesCurrentMonth=t},editingExpenseError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.editingExpenseRequest=!1,e.expensesError=n,e.expensesErrorStatus=r},deletingExpenseRequest:function(e){e.deletingExpenseRequest=!0,e.expensesError="",e.expensesErrorStatus=0},deletingExpenseSuccess:function(e,t){e.deletingExpenseRequest=!1,e.expensesCurrentMonth=t},deletingExpenseError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.editingExpenseRequest=!1,e.expensesError=n,e.expensesErrorStatus=r},creatingExpenseRequest:function(e){e.creatingExpenseRequest=!0,e.expensesError="",e.expensesErrorStatus=0},creatingExpenseSuccess:function(e,t){e.creatingExpenseRequest=!1,e.expensesCurrentMonth=t},creatingExpenseError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.creatingExpenseRequest=!1,e.expensesError=n,e.expensesErrorStatus=r},expensesCurrentMonthRequest:function(e){e.requestingExpensesCurrentMonth=!0,e.expensesError="",e.expensesErrorStatus=0},expensesCurrentMonthSuccess:function(e,t){e.expensesCurrentMonth=t,e.requestingExpensesCurrentMonth=!1},expensesCurrentMonthError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.requestingExpensesCurrentMonth=!1,e.expensesError=n,e.expensesErrorStatus=r},expensesFromToRequest:function(e){e.requestingExpensesFromTo=!0,e.expensesError="",e.expensesErrorStatus=0},expensesFromToSuccess:function(e,t){e.expensesCurrentMonth=t,e.requestingExpensesFromTo=!1},expensesFromToError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.requestingExpensesFromTo=!1,e.expensesError=n,e.expensesErrorStatus=r},reset:function(e){e.expensesCurrentMonth=[],e.expensesFromTo=[]}},Kt={currentMonth:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("expensesCurrentMonthRequest"),e.next=4,Tt.api.getCurrentMonth();case 4:return n=e.sent,t.commit("expensesCurrentMonthSuccess",n),Tt.local.setExpensesCurrentMonth(n),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e["catch"](0),console.log("EXPENSES Current Month ",e.t0),"ExpensesError"===e.t0.name&&t.commit("expensesError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}(),fromTo:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("expensesFromToRequest"),e.next=4,Tt.api.getFromTo(n,r);case 4:return s=e.sent,t.commit("expensesFromToSuccess",s),Tt.local.setExpensesFromTo(s),e.abrupt("return",s);case 10:return e.prev=10,e.t0=e["catch"](0),console.log("EXPENSES FROM TO ",e.t0),"ExpensesError"===e.t0.name&&t.commit("expensesError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("creatingExpenseRequest"),r=un.getters["expenses/currentMonth"],e.next=5,Tt.api.create(n);case 5:return s=e.sent,a=null,a=Array.isArray(s)?s[0]:s,i=[].concat(Object(Wt["a"])(r),[a]),Tt.local.setExpensesCurrentMonth(i),t.commit("creatingExpenseSuccess",i),e.abrupt("return",a);case 14:return e.prev=14,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));function t(t,n){return e.apply(this,arguments)}return t}(),edit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("editingExpenseRequest"),r=n._id,delete n._id,s=un.getters["expenses/currentMonth"],e.next=7,Tt.api.edit(r,n);case 7:return a=e.sent,i=s.find((function(e){return e._id===r})),Object.assign(i,a),Tt.local.setExpensesCurrentMonth(s),t.commit("editingExpenseSuccess",s),e.abrupt("return",a);case 15:return e.prev=15,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));function t(t,n){return e.apply(this,arguments)}return t}(),reset:function(e){e.commit("reset"),Tt.local.removeExpensesCurrentMonth(),Tt.local.removeExpensesFromTo()},delete:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=11;break}return t.commit("deletingExpenseRequest"),e.next=5,Tt.api["delete"](n);case 5:return r=un.getters["expenses/currentMonth"].filter((function(e){return e._id!==n})),Tt.local.setExpensesCurrentMonth(r),t.commit("deletingExpenseSuccess",r),e.abrupt("return",!0);case 11:throw{name:"Deleting Expense",message:"No ID given."};case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));function t(t,n){return e.apply(this,arguments)}return t}()},Qt={namespaced:!0,state:Gt,getters:Xt,actions:Kt,mutations:Yt},Zt={categories:yt.local.getAll(),requestingCategories:!1,categoriesError:"",categoriesErrorCode:0},en={all:function(e){return e.categories}},tn={categoriesRequest:function(e){e.requestingCategories=!0,e.categoriesError="",e.categoriesErrorCode=0},categoriesSuccess:function(e,t){e.categories=t,e.requestingCategories=!1},categoriesError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.requestingCategories=!1,e.categoriesError=n,e.categoriesErrorCode=r}},nn={setAll:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("categoriesRequest"),e.next=4,yt.api.getAll();case 4:return n=e.sent,yt.local.setAll(n),t.commit("categoriesSuccess",n),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e["catch"](0),"CategoriesError"===e.t0.name&&t.commit("categoriesError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()},rn={namespaced:!0,state:Zt,getters:en,actions:nn,mutations:tn},sn={sellingPoints:Pt.local.getAll(),requestingSellingPoints:!1,sellingPointsError:"",sellingPointsErrorCode:0},an={all:function(e){return e.sellingPoints}},on={sellingPointsRequest:function(e){e.requestingSellingPoints=!0,e.sellingPointsError="",e.sellingPointsErrorCode=0},sellingPointsSuccess:function(e,t){e.sellingPoints=t,e.requestingSellingPoints=!1},sellingPointsError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.requestingSellingPoints=!1,e.sellingPointsError=n,e.sellingPointsErrorCode=r},addSellingPointsRequest:function(e){e.creatingServicePointRequest=!0,e.sellingPointsError="",e.sellingPointsErrorCode=0},addSellingPointsSuccess:function(e,t){e.sellingPoints=t,e.creatingServicePointRequest=!1},addSellingPointsError:function(e,t){var n=t.errorCode,r=t.errorMessage;e.creatingServicePointRequest=!1,e.sellingPointsError=n,e.sellingPointsErrorCode=r},reset:function(e){e.sellingPoints=[]}},cn={setAll:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("sellingPointsRequest"),Pt.local.removeAll(),e.next=5,Pt.api.getAll();case 5:return n=e.sent,r=un.getters["vault/sellingPoints"]?un.getters["vault/sellingPoints"]:[],s=r.length>0?n.filter((function(e){return r.some((function(t){return e.name!==t.name}))})):n,a=[].concat(Object(Wt["a"])(r),Object(Wt["a"])(s)),Pt.local.setAll(a),t.commit("sellingPointsSuccess",a),e.abrupt("return",a);case 14:return e.prev=14,e.t0=e["catch"](0),console.log("SP ",e.t0),"SellingPointError"===e.t0.name&&t.commit("sellingPointError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));function t(t){return e.apply(this,arguments)}return t}(),add:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.commit("addSellingPointsRequest"),e.next=4,Pt.api.create(n);case 4:return r=e.sent,s=[].concat(Object(Wt["a"])(un.getters["sellingPoints/all"]),[r]),t.commit("addSellingPointsSuccess",s),Pt.local.setAll(s),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e["catch"](0),console.log(e.t0),"SellingPointError"===e.t0.name&&t.commit("sellingPointError",{errorCode:e.t0.status,errorMessage:e.t0.message}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),reset:function(e){e.commit("reset"),Pt.local.removeAll()}},ln={namespaced:!0,state:sn,getters:an,actions:cn,mutations:on};r["a"].use(s["a"]);var un=new s["a"].Store({modules:{auth:It,user:Ft,vault:Jt,expenses:Qt,categories:rn,sellingPoints:ln}}),dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{light:""}},[e.loggedIn?n("div",{class:e.fullScreenHeader?"full-height":"",attrs:{id:"header"}},[n("Header",{on:{fullscreen:e.displayHeaderFullscreen}})],1):e._e(),n("div",{attrs:{id:"content"}},[n("transition",{attrs:{name:"router-view-fade",mode:"out-in"}},[n("router-view")],1)],1),e.loggedIn?n("div",{attrs:{id:"nav"}},[n("BottomNavBar")],1):e._e()])},pn=[],gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container"}},[n("div",{staticClass:"sliderWrapper"},[n("div",{class:"slider "+e.sliderMovement})]),n("div",{staticClass:"home link",on:{click:function(t){return e.setLinkTo("home")}}},[n("v-icon",{staticClass:"my-1",attrs:{id:"homeIcon",color:"home"===e.activeLink?"primary":""}},[e._v(" mdi-home-outline ")])],1),n("div",{staticClass:"analytics link",on:{click:function(t){return e.setLinkTo("analytics")}}},[n("v-icon",{staticClass:"my-1",attrs:{id:"analyticsIcon",color:"analytics"===e.activeLink?"primary":""}},[e._v(" mdi-chart-arc ")])],1),n("div",{staticClass:"history link",on:{click:function(t){return e.setLinkTo("history")}}},[n("v-icon",{staticClass:"my-1",attrs:{id:"historyIcon",color:"history"===e.activeLink?"primary":""}},[e._v(" mdi-calendar ")])],1),n("div",{staticClass:"settings link mt-n1",on:{click:function(t){return e.setLinkTo("settings")}}},[n("v-icon",{staticClass:"my-1",attrs:{id:"settingsIcon",color:"settings"===e.activeLink?"primary":""}},[e._v(" mdi-cog-outline ")])],1)])},mn=[],fn=(n("fb6a"),{name:"BottomNavBar",props:{},data:function(){return{}},computed:{activeLink:function(){return this.$route.path.slice(1)},sliderMovement:function(){var e="";switch(this.activeLink){case"home":e="sliderMoveToHome";break;case"analytics":e="sliderMoveToAnalytics";break;case"history":e="sliderMoveToHistory";break;case"settings":e="sliderMoveToSettings";break;default:e="sliderMoveToHome";break}return e}},methods:{setLinkTo:function(e){window.scrollTo(0,0),this.$route.path.slice(1)!==e&&this.$router.push(e)}}}),hn=fn,vn=(n("180b"),Object(y["a"])(hn,gn,mn,!1,null,"6b671550",null)),xn=vn.exports;P()(vn,{VIcon:ve["a"]});var bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"titleWrapper"},[n("div",[e.settingsSelected?e._e():n("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-safe ")])],1),n("span",{staticClass:"overline primary--text font-weight-bold"},[e._v(e._s(e.settingsSelected?"Settings":e.title))]),n("div",[e.settingsSelected?e._e():n("v-btn",{attrs:{fab:"","x-small":"",color:"primary",outlined:""},on:{click:function(t){e.expand=!e.expand}}},[n("v-icon",[e._v(e._s(e.expand?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1)]),n("v-expand-transition",[e.expand&&e.showHeaderFullScreen?n("div",[n("div",{staticClass:"my-4"},[n("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(t){e.showCreateVaultDialog=!0}}},[e._v(" Create new vault ")]),n("Vaults")],1)]):e._e()]),n("CreateVaultDialog",{attrs:{display:e.showCreateVaultDialog||e.firstVault},on:{created:e.closeCreateVaultDialog,canceled:e.closeCreateVaultDialog}})],1)},wn=[],En=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"content-class":"ma-0 px-3 rounded-0",fluid:"",persistent:"",transition:"dialog-bottom-transition",scrollable:""},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[n("v-card",{staticClass:"text-left rounded-xl"},[n("v-card-title",{staticClass:"headline white--text font-weight-bold text-h6 pa-2 text-uppercase"},[e._v(" Create your first vault ")]),n("v-card-text",{staticClass:"pt-3 pb-0 px-4"},[e.firstVault?n("v-card",{staticClass:"pa-3  rounded-lg primary",attrs:{dark:"",outlined:""}},[e._v(" Hey "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(this.$store.getters["user/name"]))]),e._v(" ðŸ‘‹, it seems that you start are just start using budgets! Nice ðŸ‘! Please create your first own vault, where you can collect all your expenses. Or ask a friend to add you to their vault to have a shared vault. ")]):e._e(),e.creatingVault?e._e():n("form",{staticClass:"mt-4",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}}},[n("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",counter:30,required:"",rounded:"",outlined:"",clearable:"","prepend-inner-icon":"mdi-safe"},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),n("v-card-actions",{staticClass:"px-4 pb-4"},[e.firstVault?e._e():n("v-btn",{attrs:{rounded:"",color:"primary",outlined:""},on:{click:e.cancel}},[e._v(" Cancel ")]),n("v-spacer"),n("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:e.submit}},[e._v(" Create vault ")])],1)],1)],1)},Sn=[],kn={name:"CreateVaultDialog",mixins:[L["validationMixin"]],validations:{name:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(30)}},props:["display"],data:function(){return{name:"",creatingVault:!1}},computed:{firstVault:function(){return this.$store.getters["user/firstTimeUser"]},nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be at most 30 characters long"),!this.$v.name.minLength&&e.push("Name must be at least 3 characters long"),!this.$v.name.required&&e.push("Name is required."),e):e}},created:function(){},methods:{submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$v.$touch(),!(0===e.nameErrors.length&&e.name.length>=3)){t.next=22;break}return e.creatingVault=!0,t.next=6,St.api.create(e.name);case 6:return n=t.sent,t.next=9,x.api.setMainVault(n._id);case 9:return t.next=11,e.$store.dispatch("vault/set",n._id);case 11:return t.next=13,e.$store.dispatch("user/setMainVault",n._id);case 13:return t.next=15,e.$store.dispatch("vault/setAllVaults");case 15:if(e.$store.dispatch("expenses/reset"),!e.firstVault){t.next=19;break}return t.next=19,e.$store.dispatch("user/setFirstTimeUser",!1);case 19:e.creatingVault=!1,e.name="",e.$emit("created",!0);case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](0),console.log(t.t0);case 27:case"end":return t.stop()}}),t,null,[[0,24]])})))()},cancel:function(){this.name="",this.$emit("canceled",!0)}}},yn=kn,Cn=(n("48bf"),Object(y["a"])(yn,En,Sn,!1,null,"740770da",null)),Pn=Cn.exports;P()(Cn,{VBtn:j["a"],VCard:je["a"],VCardActions:_e["a"],VCardText:_e["b"],VCardTitle:_e["c"],VDialog:Ve["a"],VSpacer:We["a"],VTextField:J["a"]});var jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vaultsWrapper"},e._l(e.vaults,(function(e){return n("VaultCard",{key:e._id,attrs:{vault:e}})})),1)},_n=[],Tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vaultsWrapper text-left"},[n("v-card",{staticClass:"mx-auto my-4 pa-4 rounded-lg",attrs:{outlined:e.selected,loading:e.loading},on:{click:e.setToMainVault}},[n("div",{staticClass:"d-flex justify-space-between align-center"},[n("span",{class:"text-h6 "+(e.selected?"":"primary--text")},[e._v(e._s(e.vault.name.toUpperCase()))]),e.userIsTheOwner?e._e():n("v-chip",{attrs:{color:"primary",label:""}},[n("v-icon",{attrs:{left:""}},[e._v(" mdi-account-circle-outline ")]),e._v(" "+e._s(e.vault.owner.name)+" ")],1),e.selected&&e.userIsTheOwner?n("v-btn",{attrs:{dark:"",fab:"",small:"",color:"primary"}},[n("v-icon",{attrs:{small:"",dark:""}},[e._v(" mdi-pen ")])],1):e._e()],1)]),n("EditVaultDialog",{attrs:{vault:e.vault,display:e.showVaultEditDialog},on:{changed:e.closeEditVaultDialog,canceled:e.closeEditVaultDialog,deleted:e.deleteVault}})],1)},Vn=[],Rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{staticStyle:{margin:"0",padding:"0"},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[n("v-card",{staticClass:"text-left rounded-xl ma-0"},[n("v-card-title",{staticClass:"headline white--text font-weight-bold text-h6 pa-2 text-uppercase"},[e._v(" EDIT "+e._s(e.vault.name)+" ")]),n("v-card-text",{staticClass:"px-3 pt-6 pb-0 body-1"},[e.deleteRequirementsMsg?n("div",[n("p",{staticClass:"font-weight-bold"},[e._v("ðŸš¨ Deleting "+e._s(e.vault.name))]),n("p",[e._v(" To delete the vault, please type in "),n("span",{staticClass:"font-weight-bold error--text"},[e._v(e._s(e.vault.name)+" ")]),e._v("and click delete. ")])]):e._e(),e.editingVault?n("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}}):e._e(),e.editingVault?e._e():n("form",{staticClass:"pa-0",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}}},[n("v-text-field",{staticClass:"ma-0 py-0",attrs:{"error-messages":e.nameErrors,label:"Name",counter:30,required:"",rounded:"",outlined:"",clearable:"","prepend-inner-icon":"mdi-safe"},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),n("v-card-actions",{staticClass:"pa-4 d-flex justify-space-between"},[n("v-btn",{attrs:{rounded:"",color:"primary",outlined:"",text:""},on:{click:e.cancel}},[e._v(" Cancel ")]),n("v-btn",{attrs:{rounded:"",color:"secondary",text:""},on:{click:e.deleteVault}},[e._v(" Delete ")]),n("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:e.submit}},[e._v(" save vault ")])],1)],1)],1)},$n=[],Mn={name:"EditVaultDialog",mixins:[L["validationMixin"]],props:["vault","display"],validations:{name:{required:B["required"],minLength:Object(B["minLength"])(3),maxLength:Object(B["maxLength"])(30)}},data:function(){return{name:"",editingVault:!1,deleteRequirementsMsg:!1}},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.maxLength&&e.push("Name must be at most 30 characters long"),!this.$v.name.minLength&&e.push("Name must be at least 3 characters long"),!this.$v.name.required&&e.push("Name is required."),e):e}},created:function(){},methods:{submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.$v.$touch(),!(0===e.nameErrors.length&&e.name.length>=3)){t.next=13;break}return e.editingVault=!0,t.next=6,St.api.edit(e.vault._id,e.name);case 6:return n=t.sent,t.next=9,e.$store.dispatch("vault/set",n._id);case 9:return t.next=11,e.$store.dispatch("vault/setAllVaults");case 11:e.editingVault=!1,e.$emit("changed",!0);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},deleteVault:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.name!==e.vault.name){t.next=37;break}return n=e.$store.getters["user/mainVault"],t.next=4,St.api["delete"](e.vault._id);case 4:if(e.vault._id!==n){t.next=15;break}return t.next=7,e.$store.dispatch("user/setMainVault","");case 7:return t.next=9,x.api.resetMainVault();case 9:return t.next=11,e.$store.dispatch("vault/reset");case 11:return t.next=13,e.$store.dispatch("sellingPoints/reset");case 13:return t.next=15,e.$store.dispatch("expenses/reset");case 15:return t.next=17,e.$store.dispatch("vault/setAllVaults");case 17:if(r=t.sent,!(r.length>0)){t.next=32;break}return t.next=21,x.api.setMainVault(r[0]._id);case 21:return t.next=23,e.$store.dispatch("vault/set",r[0]._id);case 23:return t.next=25,e.$store.dispatch("user/setMainVault",r[0]._id);case 25:return t.next=27,e.$store.dispatch("sellingPoints/setAll");case 27:return e.$store.dispatch("expenses/reset"),t.next=30,e.$store.dispatch("expenses/currentMonth");case 30:t.next=34;break;case 32:return t.next=34,e.$store.dispatch("user/setFirstTimeUser",!0);case 34:e.$emit("deleted",!0),t.next=38;break;case 37:e.deleteRequirementsMsg=!0;case 38:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("canceled",!0)}}},On=Mn,In=(n("9728"),n("490a")),qn=Object(y["a"])(On,Rn,$n,!1,null,"c411f1aa",null),Nn=qn.exports;P()(qn,{VBtn:j["a"],VCard:je["a"],VCardActions:_e["a"],VCardText:_e["b"],VCardTitle:_e["c"],VDialog:Ve["a"],VProgressCircular:In["a"],VTextField:J["a"]});var Dn={name:"VaultCard",validations:{},components:{EditVaultDialog:Nn},props:["vault"],data:function(){return{loading:!1,showVaultEditDialog:!1}},computed:{selected:function(){return this.$store.getters["vault/id"]===this.vault._id},userIsTheOwner:function(){return this.vault.owner._id===this.$store.getters["user/id"]}},watch:{},created:function(){},methods:{setToMainVault:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.vault._id===e.$store.getters["vault/id"]){t.next=13;break}return e.loading=!0,t.next=4,x.api.setMainVault(e.vault._id);case 4:return t.next=6,e.$store.dispatch("vault/set",e.vault._id);case 6:return t.next=8,e.$store.dispatch("sellingPoints/setAll");case 8:return t.next=10,e.$store.dispatch("expenses/currentMonth");case 10:e.loading=!1,t.next=14;break;case 13:e.userIsTheOwner&&(e.showVaultEditDialog=!0);case 14:case"end":return t.stop()}}),t)})))()},closeEditVaultDialog:function(){this.showVaultEditDialog=!1},deleteVault:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.getters["user/mainVault"],n){t.next=14;break}return t.next=4,e.$store.dispatch("vault/setAllVaults");case 4:if(r=t.sent,!(r.length>0)){t.next=10;break}return t.next=8,x.api.setMainVault(r[0]._id);case 8:t.next=14;break;case 10:return t.next=12,e.$store.dispatch("user/setMainVault","");case 12:return t.next=14,e.$store.dispatch("user/setFirstTimeUser",!0);case 14:e.showVaultEditDialog=!1;case 15:case"end":return t.stop()}}),t)})))()}}},An=Dn,Ln=(n("3c70"),n("cc20")),Fn=Object(y["a"])(An,Tn,Vn,!1,null,"2bfc5c81",null),Bn=Fn.exports;P()(Fn,{VBtn:j["a"],VCard:je["a"],VChip:Ln["a"],VIcon:ve["a"]});var Un={name:"Vaults",validations:{},components:{VaultCard:Bn},data:function(){return{}},computed:{vaults:function(){return this.$store.getters["vault/allVaults"]}},created:function(){},methods:{}},zn=Un,Hn=(n("6c2e"),Object(y["a"])(zn,jn,_n,!1,null,"f95cdcc0",null)),Jn=Hn.exports,Wn={name:"Header",components:{CreateVaultDialog:Pn,Vaults:Jn},data:function(){return{expand:!1,showCreateVaultDialog:!1}},computed:{showHeaderFullScreen:function(){return this.expand&&!this.settingsSelected},mainVault:function(){return this.$store.getters["user/mainVault"]},settingsSelected:function(){return"/settings"===this.$route.path},title:function(){return this.mainVault?this.$store.getters["vault/name"]:"Please create a vault to start"},firstVault:function(){return this.$store.getters["user/firstTimeUser"]}},watch:{showHeaderFullScreen:function(e){e&&(this.expand=!0),e?this.$emit("fullscreen",!0):this.$emit("fullscreen",!1)}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.firstVault){t.next=4;break}e.showCreateVaultDialog=!0,t.next=6;break;case 4:return t.next=6,e.$store.dispatch("vault/set",e.mainVault);case 6:case"end":return t.stop()}}),t)})))()},methods:{closeCreateVaultDialog:function(){this.showCreateVaultDialog=!1},closeDialog:function(){this.showCreateVaultDialog=!1}}},Gn=Wn,Xn=(n("c80b"),n("0789")),Yn=Object(y["a"])(Gn,bn,wn,!1,null,"d6243f26",null),Kn=Yn.exports;P()(Yn,{VBtn:j["a"],VExpandTransition:Xn["a"],VIcon:ve["a"]});var Qn={name:"Budgets",components:{BottomNavBar:xn,Header:Kn},props:{},data:function(){return{registered:!1,name:null,fullScreenHeader:!1}},computed:{loggedIn:function(){return this.$store.getters["auth/loggedIn"]}},created:function(){},methods:{displayHeaderFullscreen:function(e){this.fullScreenHeader=e}}},Zn=Qn,er=(n("034f"),n("7496")),tr=Object(y["a"])(Zn,dn,pn,!1,null,null,null),nr=tr.exports;P()(tr,{VApp:er["a"]});var rr=n("9483");Object(rr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d1e78");var sr=n("f309"),ar=(n("5363"),n("fcf4"));r["a"].use(sr["a"]);var ir=new sr["a"]({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:ar["a"].deepPurple.base,secondary:ar["a"].grey.base,accent:ar["a"].lightBlue.base}},options:{customProperties:!0}}});n("d5e8"),n("bf40");r["a"].config.productionTip=!1,r["a"].use(F.a),new r["a"]({store:un,router:ft,vuetify:ir,render:function(e){return e(nr)}}).$mount("#app")},5805:function(e,t,n){},"5d00":function(e,t,n){},6865:function(e,t,n){},"6c2e":function(e,t,n){"use strict";n("5805")},"6f70":function(e,t,n){"use strict";n("b67e")},"6fa7":function(e,t,n){},"85ec":function(e,t,n){},"8c4d":function(e,t,n){},"8e8c":function(e,t,n){},9728:function(e,t,n){"use strict";n("6865")},"9de4":function(e,t,n){"use strict";n("6fa7")},b30d:function(e,t,n){},b571:function(e,t,n){},b67e:function(e,t,n){},c563:function(e,t,n){"use strict";n("b30d")},c80b:function(e,t,n){"use strict";n("1424")},cff4:function(e,t,n){"use strict";n("5d00")},dc5b:function(e,t,n){},edc2:function(e,t,n){}});
//# sourceMappingURL=app.2a9588ba.js.map